function positions=computethepoint(X0,X1,X2,Calib0,Calib1,Calib2)
K0=Calib0.K;
R0=Calib0.R;
T0=Calib0.T;
c0=-inv(R0)*T0;
K1=Calib1.K;
R1=Calib1.R;
T1=Calib1.T;
c1=-inv(R1)*T1;
K2=Calib2.K;
R2=Calib2.R;
T2=Calib2.T;
c2=-inv(R2)*T2;
I=eye(3,3);

x0=X0;
v0=inv(R0)*inv(K0)*x0;
v0=v0/norm(v0);
V0=I-v0*v0';

x1=X1;
v1=inv(R1)*inv(K1)*x1;
v1=v1/norm(v1);
V1=I-v1*v1';

x2=X2;
v2=inv(R2)*inv(K2)*x2;
v2=v2/norm(v2);
V2=I-v2*v2';

p00=V0(1,1)^2+V0(2,1)^2+V0(3,1)^2;
p01=V0(1,2)^2+V0(2,2)^2+V0(3,2)^2;
p02=V0(1,3)^2+V0(2,3)^2+V0(3,3)^2;
p03=V0(1,1)*V0(1,2)+V0(2,1)*V0(2,2)+V0(3,1)*V0(3,2);
p04=V0(1,1)*V0(1,3)+V0(2,1)*V0(2,3)+V0(3,1)*V0(3,3);
p05=V0(1,2)*V0(1,3)+V0(2,2)*V0(2,3)+V0(3,2)*V0(3,3);
aa0=p00;
bb0=p01;
cc0=p02;
dd0=2*p03;
ee0=2*p04;
ff0=2*p05;
gg0=-2*(p00*c0(1)+p03*c0(2)+p04*c0(3));
hh0=-2*(p01*c0(2)+p03*c0(1)+p05*c0(3));
ii0=-2*(p02*c0(3)+p04*c0(1)+p05*c0(2));
jj0=p00*c0(1)^2+p01*c0(2)^2+p02*c0(3)^2+2*p03*c0(1)*c0(2)+2*p04*c0(1)*c0(3)+2*p05*c0(2)*c0(3);
    
p10=V1(1,1)^2+V1(2,1)^2+V1(3,1)^2;
p11=V1(1,2)^2+V1(2,2)^2+V1(3,2)^2;
p12=V1(1,3)^2+V1(2,3)^2+V1(3,3)^2;
p13=V1(1,1)*V1(1,2)+V1(2,1)*V1(2,2)+V1(3,1)*V1(3,2);
p14=V1(1,1)*V1(1,3)+V1(2,1)*V1(2,3)+V1(3,1)*V1(3,3);
p15=V1(1,2)*V1(1,3)+V1(2,2)*V1(2,3)+V1(3,2)*V1(3,3);
aa1=p10;
bb1=p11;
cc1=p12;
dd1=2*p13;
ee1=2*p14;
ff1=2*p15;
gg1=-2*(p10*c1(1)+p13*c1(2)+p14*c1(3));
hh1=-2*(p11*c1(2)+p13*c1(1)+p15*c1(3));
ii1=-2*(p12*c1(3)+p14*c1(1)+p15*c1(2));
jj1=p10*c1(1)^2+p11*c1(2)^2+p12*c1(3)^2+2*p13*c1(1)*c1(2)+2*p14*c1(1)*c1(3)+2*p15*c1(2)*c1(3);
    
p20=V2(1,1)^2+V2(2,1)^2+V2(3,1)^2;
p21=V2(1,2)^2+V2(2,2)^2+V2(3,2)^2;
p22=V2(1,3)^2+V2(2,3)^2+V2(3,3)^2;
p23=V2(1,1)*V2(1,2)+V2(2,1)*V2(2,2)+V2(3,1)*V2(3,2);
p24=V2(1,1)*V2(1,3)+V2(2,1)*V2(2,3)+V2(3,1)*V2(3,3);
p25=V2(1,2)*V2(1,3)+V2(2,2)*V2(2,3)+V2(3,2)*V2(3,3);
aa2=p20;
bb2=p21;
cc2=p22;
dd2=2*p23;
ee2=2*p24;
ff2=2*p25;
gg2=-2*(p20*c2(1)+p23*c2(2)+p24*c2(3));
hh2=-2*(p21*c2(2)+p23*c2(1)+p25*c2(3));
ii2=-2*(p22*c2(3)+p24*c2(1)+p25*c2(2));
jj2=p20*c2(1)^2+p21*c2(2)^2+p22*c2(3)^2+2*p23*c2(1)*c2(2)+2*p24*c2(1)*c2(3)+2*p25*c2(2)*c2(3);
    
a1 = aa0+aa1+aa2;
a2 = bb0+bb1+bb2;
a3 = cc0+cc1+cc2;
a4 = dd0+dd1+dd2;
a5 = ee0+ee1+ee2;
a6 = ff0+ff1+ff2;
a7 = gg0+gg1+gg2;
a8 = hh0+hh1+hh2;
a9 = ii0+ii1+ii2;
a10= jj0+jj1+jj2;
    
A = [a1,a4/2,a5/2;a4/2,a2,a6/2;a5/2,a6/2,a3];
mu = [a7;a8;a9];
[TT,lamada] = eig(A);
lama=[lamada(1,1),lamada(2,2),lamada(3,3)];
rr1 = TT(:,1);
r1 = rr1;
rr2 = TT(:,2);
r2 = rr2-(r1'*rr2/(r1'*r1))*r1;
rr3 = TT(:,3);
r3 = rr3-(r1'*rr3/(r1'*r1))*r1-(r2'*rr3/(r2'*r2))*r2;
r1 = r1/norm(r1);
r2 = r2/norm(r2);    
r3 = r3/norm(r3);    
TT(:,1) = r1;
TT(:,2) = r2;
TT(:,3) = r3;
    
b = -[r1'*mu/lama(1);r2'*mu/lama(2);r3'*mu/lama(3)];
b=b/2;
positions=TT*b;
%dis0=norm(V0*(Point-c0))
%dis1=norm(V1*(Point-c1))
%dis2=norm(V2*(Point-c2))
    
    
end